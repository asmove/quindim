function simulation = evaluate_mec(mechanism, q_bullet, qp_bullet, is_begin)
    % Simulation variables
    simulation.current_time = [];
    simulation.previous_time = [];
    simulation.C_prev = [];
    simulation.C_current = [];
    
    if(is_begin)
    
    else
    end
    
    % Speed to derivative coordinates conversion
    D_bullet = subs(mechanism.D_bullet, ...
                    mechanism.q_bullet, ...
                    q_bullet);
    
    Dp_bullet = subs(mechanism.Dp_bullet, ...
                     [mechanism.q_bullet, mechanism.qp_bullet], ...
                     [q_bullet, qp_bullet]);

    % Dependent coordinates
    q_circ_ = q_circ(mechanism, q_bullet);
    
    % Dependent speeds
    p_circ_ = p_circ(mechanism, q_bullet, qp_bullet);
    
    % Independent speed
    p_bullet = D_bullet*qp_bullet;
end