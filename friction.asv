function sys = friction(sys)
    fric_coeffs = [];
    for body = sys.bodies
        if isempty(symvar(body.b))
            continue;
        else
            fric_coeffs = [fric_coeffs; body.b];
        end
    end   
    qpp = [];
    for i = 1:length(sys.qpp)
        qpp = [qpp; sys.qpp{i}];
    end
    
    eqdyns_u = subs(sys.eqdyns, qpp, u);
    M = equationsToMatrix(eqdyns_u, u);
end